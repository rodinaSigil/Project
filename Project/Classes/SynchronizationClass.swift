//
//  SynchronizationClass.swift
//  Project
//
//  Created by Zeus on 17.12.2018.
//  Copyright Â© 2018 Zeus. All rights reserved.
//

import Foundation
import CoreData

class SynchronizationClass
{
    
    let persistantContainer: NSPersistentContainer = NSPersistentContainer(name: "CellModel")
    
    var fetchedResultsController: NSFetchedResultsController<TableCell> = {
        let fetchRequest = NSFetchRequest<TableCell>()
        fetchRequest.entity = TableCell.entity()
        fetchRequest.sortDescriptors = [NSSortDescriptor(key: "pkey", ascending: true)]
        let frc = NSFetchedResultsController(fecthRequest: fetchRequest, managedObjectContext: self.persistantContainer.viewContext, sectionNameKeyPath: "pkey", cacheName: nil)
        return frc
    }
    
    func AddInContainer(key: Int, title: String, subtitle: String, imgurl: String)
    {
        let info = NSEntityDescription.insertNewObject(forEntityName: "TableCell", into: persistentContainer.viewContext) as! TableCell
        info.pkey = key
        info.title = title
        info.subtitle = subtitle
        info.imgurl = imgurl
    }
    
    func Synchronization()
    {
        // reading data from http and add into persistantContainer
    }
    
    
}
